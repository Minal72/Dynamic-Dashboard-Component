<template> 
    <div class="bgColour">
        <!--Main Card for background-->
        <lightning-card>
            <!--Dashboard Component-->
            <div class="slds-text-heading_large slds-p-left_medium">
                <lightning-icon icon-name="standard:dashboard_component" size="medium"></lightning-icon>
                &nbsp;Dashboard Component</div>
            <!--Filers and dropdown-->
            <div class="bgColourOther slds-m-left_medium" style="width:31.5%;">
                <!-- <div class ="slds-m-top_medium slds-m-left_medium slds-m-right_medium slds-m-bottom_medium" style="position:absolute; right:0; position:absolute; right:0;float:right"> -->
                    <lightning-combobox
                        name="filter"
                        value={value}
                        placeholder="Select Filter"
                        options={options}
                        onchange={handleChange} >
                    </lightning-combobox>
                <!-- </div> -->
            </div>
            <div class="slds-grid slds-wrap slds-gutters slds-p-bottom_medium slds-p-right_medium slds-p-left_medium bgColourOther">
                <!--Spinner-->
                <template if:true={isSpinner}>
                    <lightning-spinner
                    alternative-text="Loading..." variant="brand" size="medium">
                    </lightning-spinner>
                </template>
                <!--Data Table-->
                <template for:each={result} for:item="item">
                    <div key={item.objectName} class="slds-size_1-of-3 slds-col slds-p-top_medium" >
                        <lightning-card class="slds-align_center">
                            <div class="slds-text-align_center">
                                <!--Object Name-->
                                <div class="slds-align_center slds-text-heading_medium slds-p-top_medium">
                                    <lightning-icon icon-name={item.iconName} size="small"></lightning-icon>
                                    &nbsp;{item.objectName}
                                </div>
                                <!--Display Count-->
                                <div class="slds-align_center slds-text-heading_medium slds-p-bottom_medium">{item.count}
                                </div>
                                <div class ="slds-scrollable_y"  style="height: 300px;">
                                    <lightning-datatable
                                        key-field="Id"
                                        data={item.records}
                                        columns={item.column}
                                        wrap-text-max-lines="2"
                                        sortable="true"	
                                        hide-checkbox-column="true"
                                        sorted-by={sortBy}
                                        sorted-direction={sortDirection}
                                        onsort={doSorting}
                                        >
                                    </lightning-datatable>
                                </div>
                            </div>
                        </lightning-card>
                    </div>
                </template>
            </div>  
        </lightning-card>
    </div>
</template>